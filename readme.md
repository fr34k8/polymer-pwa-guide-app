# polymer-pwa-guide-kit

*WARN, Current Polymer version is [rc2 and preview](https://www.polymer-project.org/blog/2017-03-08-2-0-rc). Have a look at bower.json. Please consider that this guide kit is under a restriction in cause of not released official version for Polymer 2 when you want to more do something with different version of Polymer.


> This is a guide kit is designed to show how to make a Progressive Web App(PWA) and PWA features by brand new Polymer 2 with official [web components](https://www.webcomponents.org/author/PolymerElements). All of UI components and logic are developed in a way of Polymer (and Web Components). Also the project development process has attached to [Polymer CLI](https://www.polymer-project.org/2.0/docs/tools/polymer-cli) and [Firebase CLI](https://firebase.google.com/docs/cli/) which has been coordinated with yarn/npm scripts at package.json. We has been audition the project by [Lighthouse](https://github.com/GoogleChrome/lighthouse) to achive high-performed web application. Moreover, this guide kit is also backed by Firebase for hosting, realtime database, and also push notification.

# Demo

[Demo](https://g-shorten.firebaseapp.com/) is working on firebase hosting. Please take a look.

# Features

- **Material Design and AppShell**: Responsive, fit any form factor, desktop but the first is mobile. AppShell architecture and Material design implemented by Polymer elements
- **ES6**:  Polymer 2.0 uses standard ES6 classes, so you can now use ES6 feature specially when you create Custom elements
- **HTTPS**: Deploying to Firebase Hosting to run perfectly on HTTPS with PWA features
- **Web Push**: Web Push demo also is branded at this app by Firebase Push Messaging
- **Service Worker**: Generating service worker scripts is completly intergrated in build process with [Polymer CLI](https://www.polymer-project.org/2.0/docs/tools/polymer-cli)
- **Web Manifest**: Have a look how to installable webapp work by Web Manifest
- **Realtime Database**: We featured firebase to show PWA how to work with fetched data and cached data via service worker (*WARN* Data caching at local doesn't supported because of there are an issue related on [app-indexeddb-mirror](https://www.webcomponents.org/element/PolymerElements/app-storage/app-indexeddb-mirror) with polymerfire)

# Getting Started

## Setup

To use filrebase cli tool, you must setup firelbase cli and then logged into firebase by `firebase login`. To do this please refer to [firebase cli guide](https://firebase.google.com/docs/cli/). And then you need to create a new project on firebase and get the intialize codes from firebase, which are API_KEY, MESSAGING_SENDER_ID, DATABASE_URL, to save at .env. If you're not familiar with a brand new filrebase? you can have a look for [official guide](https://firebase.google.com/docs/web/setup)

```sh
# install dependencies
yarn install

# setup the project to support firebase hosting, answer with below (target version: 3.2.3):
# - Firebase CLI feature: select hosting only
# - Firebase project: select your project or create one
# - Public directory: input build/default
# - Configure as a single-page app: No
# - Skipping overwrites
firebase init
```

## Build

All of commands use [Polymer CLI](https://www.polymer-project.org/2.0/docs/tools/polymer-cli) that means you need to check out the cli guide documents when you have to modify and add more options

```sh
# build without bundle. it will be effective as its serving with https
yarn build

# build with bundled element
yarn build:bundle
```

## Running Apps

```sh
# starting apps at root of project with source in development
yarn start

# starting apps at build path with builded files
yarn start:build
```

## Deployment

You need to check that configuration again before deploy. You must have a project on firebase. The project have the suitable settings for firebase generated by fireblase cli. All of configuration should be in `.firebaserc` and `firebase.json` files at root of the project

```sh
# deploy to firebase
firebase deploy
```

## Testing (TBD)

## Testing Firebase Cloud Messaging for Push

This guide-kit use Push Messaging built on top of Firebase Cloud Messaging. `Notificaiotn` page will show you peer token to send push message to current opened tab. To do this, [`fcm-cli`](https://github.com/ragingwind/fcm-cli) is a really simple and powerful tool for testing FCM on terminal. [This video will cover how to deal with fcm-cli and FCM](https://goo.gl/Jx4poC) (*Korean*)

# Lighthouse Audit Result

Audit result is [here](https://github.com/codebusking/polymer-pwa-guide-app/issues/1), you can review the result with Lighthouse [viewer](https://googlechrome.github.io/lighthouse/viewer/)

![](https://cloud.githubusercontent.com/assets/124117/24505275/4790dd8a-1594-11e7-9504-539139e89c46.png)

# License

MIT @ CodeBusiking
